<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ù…Ø§ÛŒâ€ŒØ¯Ù‡ - Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ùˆ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg: #f6fff6; --text: #232323; --card: #fff;
  --muted: #eef7ee; --primary: #2e7d32; --shadow: 0 6px 18px rgba(0,0,0,0.08);
  --border: #dfe7df;
}
.theme-dark{--bg:#171a17;--text:#f2fff2;--card:#222a22;--muted:#243024;--primary:#74d37a;--shadow:0 8px 20px rgba(0,0,0,0.35);--border:#2f3a2f;}
.theme-green{--bg:#f2fff6;--text:#203220;--card:#fff;--muted:#e6f5ea;--primary:#2e7d32;--shadow:0 6px 18px rgba(46,125,50,0.18);--border:#cfe4d4;}
.theme-brown{--bg:#f9f6f2;--text:#2e241a;--card:#fff;--muted:#efe7de;--primary:#7a5230;--shadow:0 6px 18px rgba(122,82,48,0.18);--border:#e1d5c8;}

html,body{height:100%;margin:0;font-family:'Vazirmatn',sans-serif;line-height:1.75;background:var(--bg);color:var(--text);}
a{color:var(--primary);text-decoration:none;}
img{max-width:100%;display:block;}
header{position:sticky;top:0;z-index:10;background:linear-gradient(135deg,var(--primary),#1b4b1d);color:#fff;padding:12px 16px 8px;box-shadow:var(--shadow);}
.head-row{display:flex;align-items:center;justify-content:space-between;gap:8px;}
.brand{display:flex;align-items:center;gap:10px;}
.brand h1{margin:0;font-size:20px;font-weight:800;letter-spacing:-0.3px;}
.head-actions{display:flex;align-items:center;gap:8px;}
.select,.btn{border:none;border-radius:12px;padding:8px 12px;background:#ffffff22;color:#fff;backdrop-filter: blur(6px);cursor:pointer;font-weight:600;}
.select{appearance:none;outline:none;}
.ticker{margin-top:8px;background:#ffffff22;border-radius:12px;padding:8px 12px;overflow:hidden;position:relative;font-size:14px;}
.ticker .slide{white-space:nowrap;display:inline-block;animation:marquee 15s linear infinite;}
@keyframes marquee{from{transform:translateX(0)}to{transform:translateX(-100%)}}

.sidebar-toggle{position:fixed;top:50%;inset-inline-end:10px;transform:translateY(-50%);z-index:20;}
.fab{width:48px;height:48px;border-radius:14px;border:none;cursor:pointer;background:var(--primary);color:#fff;font-size:20px;box-shadow:var(--shadow);}
.sidebar{position:fixed;top:0;inset-inline-end:0;height:100%;width:320px;max-width:92%;background:var(--card);color:var(--text);box-shadow:-8px 0 24px rgba(0,0,0,0.12);transform:translateX(100%);transition:transform .35s ease;z-index:30;display:flex;flex-direction:column;border-inline-start:1px solid var(--border);}
.sidebar.open{transform:translateX(0);}
.sidebar-head{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px 14px;background:var(--muted);border-bottom:1px solid var(--border);}
.sidebar-body{padding:12px;overflow:auto;flex:1;}
.pill{display:inline-block;background:var(--muted);border:1px solid var(--border);padding:6px 10px;border-radius:999px;font-size:12px;margin:2px;}
.list{margin:8px 0;padding:0;list-style:none;}
.list li{border:1px solid var(--border);border-radius:12px;padding:10px;margin:8px 0;background:var(--card);}

section{padding:14px;}
.block{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;box-shadow:var(--shadow);margin:12px 0;}
.block h2{margin:0 0 8px 0;font-size:18px;}
.muted{background:var(--muted);}
.grid{display:grid;gap:12px;}
@media(min-width:720px){.grid.cols-2{grid-template-columns:1fr 1fr}.grid.cols-3{grid-template-columns:repeat(3,1fr)}}

.controls{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
.input,.btn-solid{border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:12px;padding:10px 12px;}
.btn-solid{background:var(--primary);color:#fff;border:none;cursor:pointer;}

.weather-result{display:flex;align-items:center;gap:12px;padding:12px;border:1px dashed var(--border);border-radius:12px;background:var(--muted);margin-top:10px;}

.article{border:1px solid var(--border);border-radius:14px;padding:12px;background:var(--card);position:relative;overflow:hidden;transition: transform .2s ease, box-shadow .2s ease;}
.article:hover{transform:translateY(-2px);box-shadow:var(--shadow);}
.article .star{position:absolute;inset-inline-start:10px;top:10px;cursor:pointer;user-select:none;font-size:20px;color:#bbb;}
.article .star.active{color:gold;}
.article .content{display:none;margin-top:8px;}
.article.open .content{display:block;}

.product{border:1px solid var(--border);border-radius:16px;padding:12px;background:var(--card);}
.carousel{position:relative;overflow:hidden;border-radius:12px;border:1px solid var(--border);background:var(--muted);}
.slides{display:flex;transition:transform .35s ease;}
.slides img{width:100%;flex:0 0 100%;}
.car-btn{position:absolute;top:50%;transform:translateY(-50%);border:none;background:#0007;color:#fff;padding:8px 10px;border-radius:10px;cursor:pointer;}
.car-prev{inset-inline-start:6px;}
.car-next{inset-inline-end:6px;}

.bottom-nav{position:sticky;bottom:0;z-index:9;display:flex;justify-content:space-around;gap:8px;align-items:center;background:var(--card);border-top:1px solid var(--border);padding:8px;box-shadow:var(--shadow);}
.nav-item{display:flex;flex-direction:column;align-items:center;font-size:12px;gap:4px;color:var(--text);}

.to-top{position:fixed;inset-inline-end:16px;bottom:76px;z-index:8;width:44px;height:44px;border:none;border-radius:50%;background:var(--primary);color:#fff;display:none;cursor:pointer;box-shadow:var(--shadow);}
.to-top.show{display:block;}
footer{text-align:center;font-size:12px;color:#666;padding:18px 10px;}
</style>
</head>
<body class="theme-green">

<header id="home">
  <div class="head-row">
    <div class="brand"><span style="font-size:22px">ğŸŒ±</span><h1>Ù…Ø§ÛŒâ€ŒØ¯Ù‡ - Ø¨Ø§Ø²Ø§Ø± Ùˆ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø§Ù‡ÙˆØ§Ø²</h1></div>
    <div class="head-actions">
      <select id="themeSelect" class="select" title="Ø§Ù†ØªØ®Ø§Ø¨ ØªÙ…">
        <option value="theme-green">Ø³Ø¨Ø²</option>
        <option value="theme-brown">Ù‚Ù‡ÙˆÙ‡â€ŒØ§ÛŒ</option>
        <option value="theme-dark">ØªÛŒØ±Ù‡</option>
        <option value="">Ø±ÙˆØ´Ù†</option>
      </select>
      <button id="clockBtn" class="btn" title="Ø³Ø§Ø¹Øª Ø§Ù‡ÙˆØ§Ø²">â°</button>
    </div>
  </div>
  <div class="ticker" aria-live="polite"><div class="slide">ğŸŒ¾ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ø¨Ù‡ Ù…Ø§ÛŒâ€ŒØ¯Ù‡ | ÙØ±ÙˆØ´ Ù…Ø³ØªÙ‚ÛŒÙ… Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø­Ù„ÛŒ | Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ùˆ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ | Ù¾Ø±Ø¯Ø§Ø®Øª ÙÙ‚Ø· Ø­Ø¶ÙˆØ±ÛŒ | Ø§Ù‡ÙˆØ§Ø² Ùˆ Ø±ÙˆØ³ØªØ§Ù‡Ø§ÛŒ Ø§Ø·Ø±Ø§Ù </div></div>
</header>

<div class="sidebar-toggle"><button class="fab" id="openSidebar" title="Ù„ÛŒØ³Øª/Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡/Ù‡Ø´Ø¯Ø§Ø±">ğŸ“‘</button></div>
<aside class="sidebar" id="sidebar">
  <div class="sidebar-head">
    <strong>Ù¾Ù†Ù„ Ù…Ø§ÛŒâ€ŒØ¯Ù‡</strong>
    <div><span class="pill" id="clockAhvaz">--:--</span><button class="btn" id="closeSidebar">Ø¨Ø³ØªÙ†</button></div>
  </div>
  <div class="sidebar-body">
    <h3>â­ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3><ul class="list" id="favList"><li>Ù‡Ù†ÙˆØ² Ú†ÛŒØ²ÛŒ Ø³ØªØ§Ø±Ù‡â€ŒØ¯Ø§Ø± Ù†Ø´Ø¯Ù‡</li></ul>
    <h3>ğŸ“¢ Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§</h3><ul class="list" id="newsList"></ul>
    <h3>âš ï¸ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§</h3><ul class="list" id="alertList"></ul>
  </div>
</aside>

<section class="block muted">
  <div class="grid cols-2">
    <div>
      <h2>ğŸ” Ø¬Ø³ØªØ¬Ùˆ</h2>
      <div class="controls">
        <input class="input" id="searchInput" placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ ÛŒØ§ Ù…Ù‚Ø§Ù„Ù‡ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯â€¦" />
        <button class="btn-solid" id="searchBtn">Ø¬Ø³ØªØ¬Ùˆ</button>
        <button class="btn" id="clearSearch">Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ</button>
      </div>
      <small>Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬ÙˆØŒ Ø¨Ø®Ø´ Â«Ù…Ù‚Ø§Ù„Ø§ØªÂ» Ùˆ Â«Ù…Ø­ØµÙˆÙ„Ø§ØªÂ» Ø±Ø§ ÙÛŒÙ„ØªØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</small>
    </div>
    <div>
      <h2>ğŸ“† ØªÙ‚ÙˆÛŒÙ… Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ (Ø§Ù‡ÙˆØ§Ø²)</h2>
      <div class="controls">
        <span class="pill" id="todayDate">â€”</span>
        <span class="pill" id="seasonTip">â€”</span>
        <span class="pill" id="pageViews">Ø¨Ø§Ø²Ø¯ÛŒØ¯: â€”</span>
      </div>
    </div>
  </div>
</section>

<section class="block" id="weather">
  <h2>ğŸŒ¤ï¸ ÙˆØ¶Ø¹ÛŒØª Ù‡ÙˆØ§</h2>
  <div class="controls">
    <input class="input" id="cityInput" placeholder="Ù†Ø§Ù… Ø´Ù‡Ø± (ÙØ§Ø±Ø³ÛŒ ÛŒØ§ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ)" />
    <button class="btn-solid" id="btnSearchWeather">Ø¬Ø³ØªØ¬Ùˆ</button>
    <button class="btn" id="btnMyLocation">ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ù†</button>
  </div>
  <div id="weatherResult" class="weather-result" style="display:none"></div>
</section>

<section class="block" id="articles">
  <h2>ğŸ“š Ù…Ù‚Ø§Ù„Ø§Øª</h2>
  <div class="grid cols-2" id="articleGrid">
    <article class="article" data-id="art-cucumber"><div class="star" title="Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§">â˜†</div><h3>Ú©Ø´Øª Ø®ÛŒØ§Ø± Ø¯Ø± Ø§Ù‡ÙˆØ§Ø²</h3><small class="pill">ØªØ§Ø¨Ø³ØªØ§Ù† | Ø§ÙˆØ§ÛŒÙ„ Ø´Ù‡Ø±ÛŒÙˆØ±</small><div class="content">Ø®ÛŒØ§Ø± Ø¯Ø± Ø§ÙˆØ§ÛŒÙ„ Ù…Ø§Ù‡ Û¶ Ú©Ø§Ø´ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø­Ø¯ÙˆØ¯ Û´Û° Ø±ÙˆØ² Ø¨Ø¹Ø¯ Ø¨Ø±Ø¯Ø§Ø´Øª Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯. Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ ØªØ§Ø¨Ø³ØªØ§Ù† Ú¯Ø±Ù… Ø§Ù‡ÙˆØ§Ø²ØŒ Ø¨Ø§ Ø¢Ø¨ÛŒØ§Ø±ÛŒ Ù…Ù†Ø¸Ù… Ùˆ Ø³Ø§ÛŒÙ‡â€ŒØ¨Ø§Ù† Ø³Ø¨Ú©.</div></article>
    <article class="article" data-id="art-tomato"><div class="star" title="Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§">â˜†</div><h3>Ú¯ÙˆØ¬Ù‡â€ŒÙØ±Ù†Ú¯ÛŒ Ø¯Ø± Ø§Ù‡ÙˆØ§Ø²</h3><small class="pill">Ø¨Ù‡Ø§Ø± | Ø±ÙˆØ´ Ø¬ÙˆÛŒ Ùˆ Ù¾Ø´ØªÙ‡</small><div class="content">Ú¯ÙˆØ¬Ù‡ Ø¨Ø§ Ø±ÙˆØ´ Ø³Ù†ØªÛŒ Ø¬ÙˆÛŒ Ùˆ Ù¾Ø´ØªÙ‡ Ùˆ Ø¢Ø¨ÛŒØ§Ø±ÛŒ ØºØ±Ù‚Ø§Ø¨ÛŒ Ú©Ø§Ø´ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. ØªÙ‡ÙˆÛŒÙ‡ Ù…Ù†Ø§Ø³Ø¨ Ùˆ Ú©Ù†ØªØ±Ù„ Ø¨ÛŒÙ…Ø§Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø±Ú†ÛŒ ØªÙˆØµÛŒÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div></article>
    <article class="article" data-id="art-onion"><div class="star" title="Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§">â˜†</div><h3>Ù¾ÛŒØ§Ø² Ø¯Ø± Ø§Ù‡ÙˆØ§Ø²</h3><small class="pill">Ù¾Ø§ÛŒÛŒØ² | Ø¨Ø±Ø¯Ø§Ø´Øª ØªØ§Ø¨Ø³ØªØ§Ù†</small><div class="content">Ù¾ÛŒØ§Ø² Ø¯Ø± Ù¾Ø§ÛŒÛŒØ² Ú©Ø§Ø´ØªÙ‡ Ùˆ Ø¯Ø± ØªØ§Ø¨Ø³ØªØ§Ù† Ø¨Ø±Ø¯Ø§Ø´Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù…Ø¯ÛŒØ±ÛŒØª ØªØºØ°ÛŒÙ‡ Ùˆ Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ø¹Ù„Ùâ€ŒÙ‡Ø§ÛŒ Ù‡Ø±Ø² Ú©Ù„ÛŒØ¯ÛŒ Ø§Ø³Øª.</div></article>
    <article class="article" data-id="art-melon"><div class="star" title="Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§">â˜†</div><h3>Ø·Ø§Ù„Ø¨ÛŒ Ù…Ø­Ù„ÛŒ</h3><small class="pill">Ø¨Ù‡Ø§Ø± | Ø¯Ù…Ø§ÛŒ Ù…Ø¹ØªØ¯Ù„</small><div class="content">Ø¨Ø±Ø§ÛŒ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø¨ÛŒØ´ØªØ±ØŒ Ø¢Ø¨ÛŒØ§Ø±ÛŒ Ø±Ø§ Ù¾ÛŒØ´ Ø§Ø² Ø¨Ø±Ø¯Ø§Ø´Øª Ú©Ù…ÛŒ Ú©Ø§Ù‡Ø´ Ø¯Ù‡ÛŒØ¯ Ùˆ Ù†ÙˆØ± Ú©Ø§ÙÛŒ ÙØ±Ø§Ù‡Ù… Ú©Ù†ÛŒØ¯.</div></article>
  </div>
</section>

<section class="block" id="products">
  <h2>ğŸ›’ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ</h2>
  <div class="grid cols-2" id="productGrid">
    <div class="product" data-title="Ø®ÛŒØ§Ø± ØªØ§Ø²Ù‡ Ø§Ù‡ÙˆØ§Ø²"><strong>Ø®ÛŒØ§Ø± ØªØ§Ø²Ù‡ Ø§Ù‡ÙˆØ§Ø²</strong>
      <div class="carousel" data-index="0">
        <div class="slides">
          <img src="https://via.placeholder.com/800x420?text=%D8%AE%DB%8C%D8%A7%D8%B1+1" alt="Ø®ÛŒØ§Ø± 1">
          <img src="https://via.placeholder.com/800x420?text=%D8%AE%DB%8C%D8%A7%D8%B1+2" alt="Ø®ÛŒØ§Ø± 2">
          <img src="https://via.placeholder.com/800x420?text=%D8%AE%DB%8C%D8%A7%D8%B1+3" alt="Ø®ÛŒØ§Ø± 3">
        </div>
        <button class="car-btn car-prev">â€¹</button>
        <button class="car-btn car-next">â€º</button>
      </div>
      <p>Ø¨Ø±Ø¯Ø§Ø´Øª Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø² Ù…Ø²Ø±Ø¹Ù‡. Ø®Ø±ÛŒØ¯ Ø­Ø¶ÙˆØ±ÛŒ.</p>
    </div>
    <div class="product" data-title="Ú¯ÙˆØ¬Ù‡ Ù…Ø­Ù„ÛŒ Ø±Ø³ÛŒØ¯Ù‡"><strong>Ú¯ÙˆØ¬Ù‡ Ù…Ø­Ù„ÛŒ Ø±Ø³ÛŒØ¯Ù‡</strong>
      <div class="carousel" data-index="0">
        <div class="slides">
          <img src="https://via.placeholder.com/800x420?text=%DA%AF%D9%88%D8%AC%D9%87+1" alt="Ú¯ÙˆØ¬Ù‡ 1">
          <img src="https://via.placeholder.com/800x420?text=%DA%AF%D9%88%D8%AC%D9%87+2" alt="Ú¯ÙˆØ¬Ù‡ 2">
        </div>
        <button class="car-btn car-prev">â€¹</button>
        <button class="car-btn car-next">â€º</button>
      </div>
      <p>ØªØ§Ø²Ù‡ Ùˆ Ø®ÙˆØ´â€ŒØ¹Ø·Ø±. Ù…Ù†Ø§Ø³Ø¨ Ø³Ø³ Ùˆ Ø³Ø§Ù„Ø§Ø¯.</p>
    </div>
  </div>
</section>

<section class="block">
  <h2>ğŸ“¢ ØªØ¨Ù„ÛŒØºØ§Øª</h2>
  <div class="grid"><div class="block muted">Ù…Ø­Ù„ Ù†Ù…Ø§ÛŒØ´ ØªØ¨Ù„ÛŒØºØ§Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ùˆ Ù…Ø­Ù„ÛŒ Ø´Ù…Ø§</div></div>
</section>

<section class="block" id="contact">
  <h2>ğŸ“ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h2>
  <p>ÙˆØ§ØªØ³Ø§Ù¾: <a href="https://wa.me/989332356547">09332356547</a></p>
  <p>ØªÙ„ÙÙ†: 09332356547</p>
</section>

<nav class="bottom-nav">
  <a class="nav-item" href="#home">ğŸ <span>Ø®Ø§Ù†Ù‡</span></a>
  <a class="nav-item" href="#products">ğŸ›’<span>Ù…Ø­ØµÙˆÙ„Ø§Øª</span></a>
  <a class="nav-item" href="#articles">ğŸ“š<span>Ù…Ù‚Ø§Ù„Ø§Øª</span></a>
  <a class="nav-item" href="#contact">â˜ï¸<span>ØªÙ…Ø§Ø³</span></a>
</nav>

<button class="to-top" id="toTop" title="Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§">â†‘</button>
<footer>Â© Ù…Ø§ÛŒâ€ŒØ¯Ù‡ â€” Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ Ø¹Ø´Ù‚ Ø¨Ø±Ø§ÛŒ Ø±ÙˆØ³ØªØ§ ğŸŒ¿</footer>

<script>
// Ø§Ø¨Ø²Ø§Ø±Ú©â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ
const $ = s=>document.querySelector(s);
const $$ = s=>document.querySelectorAll(s);

// Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
$('#openSidebar').onclick=()=>$('#sidebar').classList.add('open');
$('#closeSidebar').onclick=()=>$('#sidebar').classList.remove('open');

// Ø³Ø§Ø¹Øª Ø§Ù‡ÙˆØ§Ø²
function updateClock(){
  const timeStr = new Date().toLocaleTimeString('fa-IR',{hour:'2-digit',minute:'2-digit',timeZone:'Asia/Tehran'});
  $('#clockAhvaz').innerText = timeStr;
}
setInterval(updateClock,1000);
updateClock();

// ØªØºÛŒÛŒØ± ØªÙ…
$('#themeSelect').onchange=e=>document.body.className = e.target.value || 'theme-green';

// Ø¨Ù‡ Ø¨Ø§Ù„Ø§
window.onscroll=()=>{$('#toTop').classList.toggle('show',window.scrollY>300);}
$('#toTop').onclick=()=>window.scrollTo({top:0,behavior:'smooth'});

// Carousel
$$('.carousel').forEach(car=>{
  const slides = car.querySelector('.slides');
  const imgs = slides.children;
  let idx = 0;
  car.querySelector('.car-prev').onclick = ()=>{
    idx = (idx-1+imgs.length)%imgs.length;
    slides.style.transform = `translateX(-${idx*100}%)`;
  };
  car.querySelector('.car-next').onclick = ()=>{
    idx = (idx+1)%imgs.length;
    slides.style.transform = `translateX(-${idx*100}%)`;
  };
});

// Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§
const favsKey='mydehFavs';
let favs = JSON.parse(localStorage.getItem(favsKey)||'[]');
function updateFavUI(){
  const ul = $('#favList'); ul.innerHTML='';
  if(!favs.length){ul.innerHTML='<li>Ù‡Ù†ÙˆØ² Ú†ÛŒØ²ÛŒ Ø³ØªØ§Ø±Ù‡â€ŒØ¯Ø§Ø± Ù†Ø´Ø¯Ù‡</li>';return;}
  favs.forEach(f=>{const li=document.createElement('li');li.innerText=f;ul.appendChild(li);});
}
updateFavUI();
$$('.article').forEach(a=>{
  const star=a.querySelector('.star');
  const id=a.dataset.id;
  if(favs.includes(id)) star.classList.add('active');
  star.onclick=()=>{
    if(favs.includes(id)){
      favs=favs.filter(x=>x!==id); star.classList.remove('active');
    }else{favs.push(id); star.classList.add('active');}
    localStorage.setItem(favsKey,JSON.stringify(favs));
    updateFavUI();
  };
  a.querySelector('h3').onclick=()=>a.classList.toggle('open');
});

// Ø¬Ø³ØªØ¬Ùˆ
$('#searchBtn').onclick=()=>{
  const q=$('#searchInput').value.toLowerCase();
  $$('#articleGrid .article').forEach(a=>{
    a.style.display=a.innerText.toLowerCase().includes(q)?'block':'none';
  });
  $$('#productGrid .product').forEach(p=>{
    p.style.display=p.dataset.title.toLowerCase().includes(q)?'block':'none';
  });
};
$('#clearSearch').onclick=()=>{
  $('#searchInput').value='';
  $$('#articleGrid .article, #productGrid .product').forEach(el=>el.style.display='block');
};

// Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ
const WEATHER_KEY='dc9c93f51cdd375d459483c2a9f86d88';
async function getWeather(city){
  const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${WEATHER_KEY}&units=metric&lang=fa`);
  const data=await res.json();
  showWeather(data);
}
async function getWeatherCoords(lat,lon){
  const res=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${WEATHER_KEY}&units=metric&lang=fa`);
  const data=await res.json();
  showWeather(data);
}
function showWeather(data){
  const w=$('#weatherResult');
  if(data.main){
    w.style.display='flex';
    w.innerHTML=`<div><strong>${data.name}</strong><br>ğŸŒ¡ï¸ ${data.main.temp}Â°C | ${data.weather[0].description}</div>`;
  }else{
    w.style.display='flex';
    w.innerText='Ø´Ù‡Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯';
  }
}
$('#btnSearchWeather').onclick=()=>getWeather($('#cityInput').value);
$('#btnMyLocation').onclick=()=>navigator.geolocation.getCurrentPosition(p=>getWeatherCoords(p.coords.latitude,p.coords.longitude));

// Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§ Ù†Ù…ÙˆÙ†Ù‡
const newsList=$('#newsList');
['Ø¨Ø±Ø¯Ø§Ø´Øª Ø®ÛŒØ§Ø± Ø¢ØºØ§Ø² Ø´Ø¯','Ú©ÙˆØ¯ Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ú¯ÙˆØ¬Ù‡â€ŒÙØ±Ù†Ú¯ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª','Ø¢Ø¨â€ŒÛŒØ§Ø±ÛŒ Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ Ø¯Ø± Ø±ÙˆØ³ØªØ§ÛŒ ÙÙ„Ø§Ù†'].forEach(n=>{
  const li=document.createElement('li'); li.innerText=n; newsList.appendChild(li);
});
// Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ù†Ù…ÙˆÙ†Ù‡
const alertList=$('#alertList');
['Ù‡Ø´Ø¯Ø§Ø± Ú¯Ø±Ù…Ø§ÛŒ Ø´Ø¯ÛŒØ¯ Ø§Ù…Ø±ÙˆØ²','Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø§Ø±Ø´ Ø¯Ø± Ù†ÛŒÙ…Ù‡â€ŒØ´Ø¨'].forEach(a=>{
  const li=document.createElement('li'); li.innerText=a; alertList.appendChild(li);
});
</script>

</body>
</html>
